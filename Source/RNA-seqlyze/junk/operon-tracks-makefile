DOOR_id                 := NC_002754
OperonDB_id             := 940
microbesonline_id       := 273057

ifneq ($(wildcard IDs),)
include IDs
endif

FILTER := operon-tracks-filter.py

DOOR_choices		= http://csbl1.bmb.uga.edu/OperonDB_10142009/displayspecies.php
OperonDB_choices	= http://operondb.cbcb.umd.edu/cgi-bin/operondb/taxon_list.cgi
microbesonline_choices	= http://www.microbesonline.org/operons/OperonList.html

DOOR			= http://csbl1.bmb.uga.edu/OperonDB_10142009/downloadNCoperon.php?NC_id=$(DOOR_id)
OperonDB		= http://operondb.cbcb.umd.edu/cgi-bin/operondb/pairs.cgi?genome_id=$(OperonDB_id)
microbesonline		= http://www.microbesonline.org/operons/gnc$(microbesonline_id).named
microbesonline_genes	= http://www.microbesonline.org/cgi-bin/genomeInfo.cgi?tId=$(microbesonline_id);export=tab

sources = DOOR-$(DOOR_id).opr OperonDB-$(OperonDB_id).html \
          microbesonline-$(microbesonline_id).named microbesonline-$(microbesonline_id).genes

targets = $(patsubst %,%.bed,$(filter-out %.genes, $(sources)))

all: $(sources) $(targets)

clean:
	rm $(targets)

%.bed: %
	$(FILTER) $< > $@
%.opr:
	curl -o $@ "$(DOOR)"
%.html:
	curl -o $@ "$(OperonDB)"
%.named: %.genes
	curl -o $@ "$(microbesonline)"
%.genes:
	curl -o $@ "$(microbesonline_genes)"
