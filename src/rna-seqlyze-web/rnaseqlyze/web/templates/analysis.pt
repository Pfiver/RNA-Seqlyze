<tal:block metal:use-macro="base">

  <tal:block metal:fill-slot="menu-items">
    <ul id="page-nav" class="nav nav-tabs nav-stacked">
      <li><a href="#input">Input</a></li>
      <li><a href="#processing">Processing</a></li>
      <li><a href="#results">Results</a></li>
    </ul>
  </tal:block>

  <tal:block metal:fill-slot="content">

    <div class="page-header">
      <h1>Analysis ${analysis.id}<br>
        <small>created
            on <span class="date">${analysis.creation_date.strftime("%Y-%m-%d %H:%M")}</span>
            by <span class="username">${analysis.owner.name}</span>
        </small>
      </h1>
    </div>

    <h2 id="input">Input</h2>
    <div class="form-horizontal">
      <h3 id="shortreads">Short Reads</h3>
      <div class="control-group">
        <label for="inputfileInput" class="control-label">SRA or FASTQ File</label>
        <div class="controls entered-values">
          <strong>${analysis.inputfile_name}</strong>
        </div>
      </div>
      <div class="control-group">
        <label for="strandspecificInput" class="control-label">strand-specific</label>
        <div class="controls entered-values">
          <strong>${analysis.strandspecific and 'True' or 'False'}</strong>
        </div>
      </div>
      <div class="control-group">
        <label for="pairendedInput" class="control-label">pair-ended reads</label>
        <div class="controls entered-values">
          <strong>${analysis.pairended and 'True' or 'False'}</strong>
        </div>
      </div>
      <div id="pairendlenControls" class="control-group" tal:condition="analysis.pairended">
        <label for="pairendlenInput" class="control-label">fragment length</label>
        <div class="controls entered-values">
          <strong>${analysis.pairendlen}</strong>
        </div>
      </div>
      <h3>Organism</h3>
      <div id="organismControls" class="control-group">
        <label for="organismInput" class="control-label">Accession Number</label>
        <div class="controls entered-values">
          <strong>${analysis.org_accession}</strong>
        </div>
      </div>
    </div>

    <h2 id="processing">Processing</h2>
    <ul>
      <li tal:switch="analysis.inputfile_type != None">Type of input:
        <tal:block tal:case="True">
          <strong tal:content="analysis.inputfile_type"></strong>
          <pre tal:content="analysis.inputfile_header">
          </pre>
        </tal:block>
        <tal:block tal:case="False">not detected
        </tal:block>
      </li>
    </ul>

    <h2 id="results">Results</h2>
    <ul>
      <li tal:condition="analysis.hg_url">Hg browser tracks:
        <a href="${analysis.hg_url}">View Tracks in UCSC Browser</a>
      </li>
    </ul>

  </tal:block>

<!--!
  <tal:block metal:fill-slot="footer">
    <script src="${path('js/rnaseqlyze-analysis.js')}"></script>
  </tal:block>
  -->

</tal:block>
